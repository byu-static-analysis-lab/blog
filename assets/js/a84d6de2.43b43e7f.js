"use strict";(self.webpackChunkdev_blog=self.webpackChunkdev_blog||[]).push([[9651],{5261:(s,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>m});var n=a(9745),t=a(4848),l=a(8453);const i={slug:"abstract-interpretation",title:"Topic - Abstract Interpretation",date:"2024-11-07T12:00",authors:["koby"],tags:["static analysis","abstract interpretation"]},r=void 0,c={authorsImageUrls:[void 0]},m=[{value:"Generalizing",id:"generalizing",level:2}];function h(s){const e={annotation:"annotation",code:"code",em:"em",h2:"h2",math:"math",mi:"mi",mo:"mo",mover:"mover",mrow:"mrow",mtext:"mtext",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",svg:"svg",...(0,l.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"Abstract interpretation is a very common technique for analyzing programs. This is a quick primer on the topic."}),"\n",(0,t.jsx)(e.p,{children:'The core idea of an abstract interpretation is to "run the program", but instead of typical program states/values/etc (sometimes referred to collectively as configurations), we use some replacement that means the execution is decidable (the program always terminates).'}),"\n",(0,t.jsxs)(e.p,{children:["Probably the single most common automated analysis is a type check, which is itself a form of abstract analysis. Throughout this primer, we'll use a simply typed lambda calculus, extended with ",(0,t.jsx)(e.code,{children:"nat"}),", ",(0,t.jsx)(e.code,{children:"if0"}),", and ",(0,t.jsx)(e.code,{children:"letrec"}),". Execution will be done via the standard syntax-based transition system with replacement for function application (no environment or store)."]}),"\n",(0,t.jsxs)(e.p,{children:["In abstract interpretion, the convention is to write the concrete types with their normal notation, and the abstract versions with the normal notation with a hat. In our example, we have the type ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Value"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})})]}),", which is the type of the result of running the program, and can either be a value in ",(0,t.jsx)(e.code,{children:"nat"}),", or a closure. We also have type ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"T"}),(0,t.jsx)(e.mi,{children:"y"}),(0,t.jsx)(e.mi,{children:"p"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Type"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"p"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})})]}),", which is the result of running the type check. But in the typical abstract interpretation, we would write ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\widehat{Value}"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})})]})})]}),". To familiarize us with this notation, I will use the ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\widehat{Value}"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})})]})})]})," notation, but know that it is the same as ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"T"}),(0,t.jsx)(e.mi,{children:"y"}),(0,t.jsx)(e.mi,{children:"p"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Type"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"p"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})})]}),"."]}),"\n",(0,t.jsxs)(e.p,{children:["Now, we have two domains, ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Value"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})})]})," and ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\widehat{Value}"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})})]})})]}),", but for our analysis to be useful, we need some way to relate them. Often, the way that we do this is having a couple of functions that translate between the two domains. A common way to notate these is ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"\u03b1"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\alpha"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"})]})})]}),' (stands for "abstract") and ',(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"\u03b3"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\gamma"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05556em"},children:"\u03b3"})]})})]})," (stands for concretize). In our case, we could have ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"\u03b1"}),(0,t.jsx)(e.mo,{children:":"}),(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mo,{children:"\u2192"}),(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\alpha : Value \\rightarrow \\widehat{Value}"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:":"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"\u2192"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})})]})]})]})," and ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"\u03b3"}),(0,t.jsx)(e.mo,{children:":"}),(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]}),(0,t.jsx)(e.mo,{children:"\u2192"}),(0,t.jsx)(e.mi,{mathvariant:"script",children:"P"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\gamma : \\widehat{Value} \\rightarrow \\mathcal{P}(Value)"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05556em"},children:"\u03b3"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:":"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"\u2192"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mord mathcal",style:{marginRight:"0.08222em"},children:"P"}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),". Note that ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"\u03b3"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\gamma"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05556em"},children:"\u03b3"})]})})]}),"'s return type is a powerset, since there are any number of values in a given type."]}),"\n",(0,t.jsx)(e.p,{children:"Once we have one or both of these functions, we can write theorems that relate elements of the two domains. After running the abstract analysis and get a result in the abstract domain, then we can say something about the concrete execution of the program. If we can prove the analysis is sound, then the result of the abstract interpreter tells us something trustworthy about what the concrete analysis will look like."}),"\n",(0,t.jsx)(e.p,{children:"Take the program"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"((lambda x. if0 x then 1 else 2 end) 0)\n"})}),"\n",(0,t.jsxs)(e.p,{children:["We can just interpret this program and know that the result will be ",(0,t.jsx)(e.code,{children:"1"}),", which is in ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Value"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})})]}),". But in general, because we have ",(0,t.jsx)(e.code,{children:"letrec"})," in our language, just interpretting and finding the result might not terminate, and in any case might take a very long time. A type check would be much faster. If you've taken CS 330 at BYU, you probably noticed that the ",(0,t.jsx)(e.code,{children:"typecheck"})," function looks very similar to the ",(0,t.jsx)(e.code,{children:"interp"})," function. One difference is the types they return (",(0,t.jsx)(e.code,{children:"Value"})," vs ",(0,t.jsx)(e.code,{children:"Type"}),"), but the more important one is that we know ",(0,t.jsx)(e.code,{children:"typecheck"})," will always terminate, and is much faster."]}),"\n",(0,t.jsxs)(e.p,{children:["Running a type check on this program produces ",(0,t.jsx)(e.code,{children:"nat"}),", which is in ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"V"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"})]}),(0,t.jsx)(e.mo,{stretchy:"true",children:"^"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\widehat{Value}"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.9944em"}}),(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9944em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"Va"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"})]})]}),(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3.6944em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{style:{height:"0.3em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.3em",viewBox:"0 0 2364 360",preserveAspectRatio:"none",children:(0,t.jsx)(e.path,{d:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"})})})]})]})})})})]})})]}),". While this is not nearly as specific as ",(0,t.jsx)(e.code,{children:"1"}),", it does tell us something! We can use ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"\u03b3"}),(0,t.jsx)(e.mtext,{children:"\u2009"}),(0,t.jsx)(e.mi,{children:"n"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"t"}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"(\\gamma \\, nat)"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05556em"},children:"\u03b3"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"na"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})})]})," to return a set of all of the possibilities our program ",(0,t.jsx)(e.em,{children:"could"})," return, based on our analysis. In this case, we know that it could be any natural number, and that it definitely isn't a closure."]}),"\n",(0,t.jsx)(e.h2,{id:"generalizing",children:"Generalizing"}),"\n",(0,t.jsx)(e.p,{children:"In our type check example, our abstract domain was related to the values returned by our program, but in general, there are all kinds of domains we could be concerned with. For instance, if our language has a store, we could have an abstract store that has only finitely many addresses. The key is that whatever abstraction you use, you can prove that that abstraction makes your interpretation decidable."})]})}function d(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(h,{...s})}):h(s)}},8453:(s,e,a)=>{a.d(e,{R:()=>i,x:()=>r});var n=a(6540);const t={},l=n.createContext(t);function i(s){const e=n.useContext(l);return n.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:i(s.components),n.createElement(l.Provider,{value:e},s.children)}},9745:s=>{s.exports=JSON.parse('{"permalink":"/blog/abstract-interpretation","editUrl":"https://github.com/byu-static-analysis-lab/blog/tree/main/blog/2024-11-abstract-interpretation.md","source":"@site/blog/2024-11-abstract-interpretation.md","title":"Topic - Abstract Interpretation","description":"Abstract interpretation is a very common technique for analyzing programs. This is a quick primer on the topic.","date":"2024-11-07T12:00:00.000Z","tags":[{"inline":true,"label":"static analysis","permalink":"/blog/tags/static-analysis"},{"inline":true,"label":"abstract interpretation","permalink":"/blog/tags/abstract-interpretation"}],"readingTime":3.17,"hasTruncateMarker":true,"authors":[{"name":"Koby Lewis","title":"Author","url":"https://github.com/plyb","imageURL":"https://github.com/plyb.png","key":"koby","page":null}],"frontMatter":{"slug":"abstract-interpretation","title":"Topic - Abstract Interpretation","date":"2024-11-07T12:00","authors":["koby"],"tags":["static analysis","abstract interpretation"]},"unlisted":false,"prevItem":{"title":"Topic - Flow Sensitivity","permalink":"/blog/flow-sensitivity"},"nextItem":{"title":"Paper - Galois Transformers and Modular Abstract Interpreters","permalink":"/blog/galois-transformers"}}')}}]);